<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Fruit Ninja â€“ MaxLabz Games</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:Arial,sans-serif;background:#121212;color:#f1f1f1;}
    header{background:#111;padding:20px;text-align:center;} header h1{color:#4CAF50;}
    nav{background:#1a1a1a;padding:10px;display:flex;justify-content:center;gap:15px;}
    nav a{color:#f1f1f1;font-weight:bold;text-decoration:none;} nav a:hover{color:#4CAF50;}
    main{max-width:600px;margin:20px auto;position:relative;}
    #hud{position:absolute;top:10px;left:10px;color:#fff;font-size:1.1rem;text-shadow:0 0 5px #000;}
    #hud span{margin-right:20px;}
    #game-canvas{width:100%;height:auto;background:#000;border:3px solid #4CAF50;border-radius:10px;}
    footer{text-align:center;padding:20px;color:#777;margin-top:20px;}
  </style>
</head>
<body>

  <header><h1>Fruit Ninja</h1></header>
  <nav>
    <a href="../../index.html">Startseite</a>
    <a href="../Memory/index.html">Memory</a>
    <a href="../Quiz/index.html">Quiz</a>
    <a href="../Snake/index.html">Snake</a>
    <a href="../Tic-tac-Toe/index.html">Tic Tac Toe</a>
  </nav>

  <main>
    <div id="hud">
      <span id="score">Score: 0</span>
      <span id="lives">Lives: 3</span>
    </div>
    <canvas id="game-canvas" width="600" height="400"></canvas>
  </main>

  <footer>&copy; 2025 MaxLabz Games</footer>

  <!-- Highscore-Integration -->
  <script type="module" src="../../highscores.js"></script>
  <script>
    import { submitHighScore } from '../../highscores.js';

    const canvas=document.getElementById('game-canvas'), ctx=canvas.getContext('2d'),
          scoreEl=document.getElementById('score'), livesEl=document.getElementById('lives');
    let score=0, lives=3, fruits=[], pointer=[], lastSpawn=0, rafId;
    const gravity=0.15, spawnInterval=1000;

    class Fruit { /* ... identisch wie vorher ... */ }

    function updateHUD(){ scoreEl.textContent='Score: '+score; livesEl.textContent='Lives: '+lives; }

    function gameOver(){
      cancelAnimationFrame(rafId);
      submitHighScore('FruitNinja', score);
      ctx.fillStyle='rgba(0,0,0,0.7)'; ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.fillStyle='#fff'; ctx.font='48px Arial'; ctx.textAlign='center';
      ctx.fillText('Game Over',canvas.width/2,canvas.height/2-20);
      ctx.font='24px Arial'; ctx.fillText('Final Score: '+score,canvas.width/2,canvas.height/2+20);
    }

    function loop(ts){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      if(ts-lastSpawn>spawnInterval){
        fruits.push(new Fruit()); lastSpawn=ts;
      }
      // update & draw fruits, lives check...
      if(lives<=0){ gameOver(); return; }
      // slice detection, trail draw...
      rafId=requestAnimationFrame(loop);
    }

    // init, event listeners, start loop...
    updateHUD(); requestAnimationFrame(loop);
  </script>
</body>
</html>
